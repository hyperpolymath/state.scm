= STATE Format Specification Documents
:toc:

== Overview

This directory contains the formal specification infrastructure for the STATE
(Stateful Context Tracking Engine) format, prepared for submission to
standards bodies including IETF, IANA, and W3C.

== Document Index

=== Core Specification

link:STATE-FORMAT-SPEC.adoc[STATE-FORMAT-SPEC.adoc]::
  The complete format specification in IETF Internet-Draft style. Defines
  all sections, data types, parsing requirements, and security considerations.

=== Grammar

link:abnf/state.abnf[abnf/state.abnf]::
  Formal ABNF (Augmented Backus-Naur Form) grammar per RFC 5234. Defines
  the complete syntax of STATE files.

=== Schema

link:schema/state.schema.json[schema/state.schema.json]::
  JSON Schema (Draft 2020-12) for validating the JSON binding of STATE
  files. Use with standard JSON Schema validators.

=== Policy Documents

link:VERSION-POLICY.adoc[VERSION-POLICY.adoc]::
  Version evolution policy, compatibility guarantees, and migration
  procedures. Follows Semantic Versioning 2.0.0.

link:STANDARDS-TRACK.adoc[STANDARDS-TRACK.adoc]::
  Roadmap for formal standardization through IETF, IANA, W3C, and other
  standards bodies. Includes timeline and resource requirements.

link:IANA-MEDIA-TYPE.adoc[IANA-MEDIA-TYPE.adoc]::
  IANA media type registration template for `application/state+scheme`.
  Ready for submission upon specification maturity.

== Standards Track Summary

[cols="1,2,1,2"]
|===
|Phase |Deliverable |Status |Target

|1
|Community Specification
|✅ Complete
|2025 Q4

|2
|IANA Provisional Registration
|⬜ Pending
|2026 Q1

|3
|IETF Internet-Draft
|⬜ Pending
|2026 Q2

|4
|RFC Publication
|⬜ Pending
|2027 H1

|5
|Ecosystem Integration
|⬜ Future
|2027+
|===

== Using These Documents

=== Validating STATE Files

[source,bash]
----
# Install ajv-cli for JSON Schema validation
deno install -A npm:ajv-cli

# Convert STATE.scm to JSON, then validate
# (Requires conversion tool - see lib/ for implementation)
ajv validate -s spec/schema/state.schema.json -d state.json
----

=== Generating Parsers

The ABNF grammar can be used with ABNF parser generators:

* **abnfgen** - Generate test cases
* **APG** - ABNF Parser Generator (JavaScript, C)
* **instaparse** - Clojure parser from ABNF

=== Contributing

See link:../CONTRIBUTING.adoc[CONTRIBUTING.adoc] for contribution guidelines.

Specification changes require:

1. Issue discussion
2. Pull request with rationale
3. Community review period (minimum 2 weeks for normative changes)
4. Maintainer approval

== License

Specification documents are dual-licensed under:

* MIT License
* LicenseRef-Palimpsest-0.8

See link:../LICENSE.txt[LICENSE.txt] for details.
